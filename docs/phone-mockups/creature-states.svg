<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="280" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <radialGradient id="orangeGradient" cx="50%" cy="30%" r="70%">
      <stop offset="30%" style="stop-color:#FBBF24"/>
      <stop offset="100%" style="stop-color:#D97706"/>
    </radialGradient>
    <radialGradient id="grayGradient" cx="50%" cy="30%" r="70%">
      <stop offset="30%" style="stop-color:#888"/>
      <stop offset="100%" style="stop-color:#555"/>
    </radialGradient>
    <!-- Transition arrow marker -->
    <marker id="arrowHead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M 0 0 L 8 3 L 0 6 Z" fill="#666"/>
    </marker>
    <!-- Animated gradient for transition arrows -->
    <linearGradient id="transitionGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4CAF50; stop-opacity:0.3"/>
      <stop offset="50%" style="stop-color:#4CAF50; stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#4CAF50; stop-opacity:0.3"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="900" height="280" fill="#1a1a2e"/>

  <!-- Title -->
  <text x="450" y="22" text-anchor="middle" fill="#888" font-family="Arial" font-size="11" letter-spacing="2">CREATURE STATES — SMOOTH 350ms TRANSITIONS</text>

  <!-- Transition arrows between states -->
  <!-- IDLE → LISTENING -->
  <line x1="115" y1="115" x2="175" y2="115" stroke="#666" stroke-width="1.5" marker-end="url(#arrowHead)" stroke-dasharray="4,3"/>
  <text x="145" y="108" text-anchor="middle" fill="#4CAF50" font-family="Arial" font-size="8">ears</text>
  <text x="145" y="118" text-anchor="middle" fill="#4CAF50" font-family="Arial" font-size="8">pupils</text>

  <!-- LISTENING → THINKING -->
  <line x1="265" y1="115" x2="325" y2="115" stroke="#666" stroke-width="1.5" marker-end="url(#arrowHead)" stroke-dasharray="4,3"/>
  <text x="295" y="108" text-anchor="middle" fill="#FF9800" font-family="Arial" font-size="8">eyes</text>
  <text x="295" y="118" text-anchor="middle" fill="#FF9800" font-family="Arial" font-size="8">close</text>

  <!-- THINKING → SPEAKING -->
  <line x1="415" y1="115" x2="475" y2="115" stroke="#666" stroke-width="1.5" marker-end="url(#arrowHead)" stroke-dasharray="4,3"/>
  <text x="445" y="108" text-anchor="middle" fill="#4CAF50" font-family="Arial" font-size="8">eyes</text>
  <text x="445" y="118" text-anchor="middle" fill="#4CAF50" font-family="Arial" font-size="8">open</text>

  <!-- SPEAKING → SLEEPING -->
  <line x1="565" y1="115" x2="625" y2="115" stroke="#666" stroke-width="1.5" marker-end="url(#arrowHead)" stroke-dasharray="4,3"/>
  <text x="595" y="108" text-anchor="middle" fill="#9C27B0" font-family="Arial" font-size="8">ears</text>
  <text x="595" y="118" text-anchor="middle" fill="#9C27B0" font-family="Arial" font-size="8">droop</text>

  <!-- SLEEPING → OFFLINE -->
  <line x1="715" y1="115" x2="775" y2="115" stroke="#666" stroke-width="1.5" marker-end="url(#arrowHead)" stroke-dasharray="4,3"/>
  <text x="745" y="108" text-anchor="middle" fill="#F44336" font-family="Arial" font-size="8">body</text>
  <text x="745" y="118" text-anchor="middle" fill="#F44336" font-family="Arial" font-size="8">grays</text>

  <!-- IDLE -->
  <g transform="translate(75, 115)">
    <!-- Body -->
    <ellipse cx="0" cy="10" rx="40" ry="45" fill="url(#orangeGradient)"/>
    <!-- Ears -->
    <circle cx="-30" cy="-35" r="10" fill="url(#orangeGradient)"/>
    <circle cx="30" cy="-35" r="10" fill="url(#orangeGradient)"/>
    <!-- Eyes -->
    <ellipse cx="-15" cy="0" rx="9" ry="10" fill="white"/>
    <ellipse cx="15" cy="0" rx="9" ry="10" fill="white"/>
    <circle cx="-15" cy="2" r="5" fill="black"/>
    <circle cx="15" cy="2" r="5" fill="black"/>
    <!-- Smile -->
    <path d="M -15 25 Q 0 35 15 25" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <!-- Label -->
    <text x="0" y="75" text-anchor="middle" fill="#4CAF50" font-family="Arial" font-size="12" font-weight="bold">IDLE</text>
    <!-- Breathing indicator -->
    <text x="0" y="88" text-anchor="middle" fill="#555" font-family="Arial" font-size="9">breathing</text>
  </g>

  <!-- LISTENING -->
  <g transform="translate(225, 115)">
    <!-- Body -->
    <ellipse cx="0" cy="10" rx="40" ry="45" fill="url(#orangeGradient)"/>
    <!-- Ears (perked up) — animate from 0° to -15° -->
    <ellipse cx="-32" cy="-40" rx="10" ry="12" fill="url(#orangeGradient)" transform="rotate(-15 -32 -40)"/>
    <ellipse cx="32" cy="-40" rx="10" ry="12" fill="url(#orangeGradient)" transform="rotate(15 32 -40)"/>
    <!-- Eyes (wide, looking up) — pupils animate to y-2 -->
    <ellipse cx="-15" cy="-2" rx="10" ry="12" fill="white"/>
    <ellipse cx="15" cy="-2" rx="10" ry="12" fill="white"/>
    <circle cx="-15" cy="-4" r="5" fill="black"/>
    <circle cx="15" cy="-4" r="5" fill="black"/>
    <!-- Small smile -->
    <path d="M -10 25 Q 0 30 10 25" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <!-- Label -->
    <text x="0" y="75" text-anchor="middle" fill="#2196F3" font-family="Arial" font-size="12" font-weight="bold">LISTENING</text>
    <!-- Transition detail -->
    <text x="0" y="88" text-anchor="middle" fill="#555" font-family="Arial" font-size="9">ears -20°, pupils ↑</text>
  </g>

  <!-- THINKING -->
  <g transform="translate(375, 115)">
    <!-- Body -->
    <ellipse cx="0" cy="10" rx="40" ry="45" fill="url(#orangeGradient)"/>
    <!-- Ears -->
    <circle cx="-30" cy="-35" r="10" fill="url(#orangeGradient)"/>
    <circle cx="30" cy="-35" r="10" fill="url(#orangeGradient)"/>
    <!-- Closed eyes — animate eyeClosure 0→1 -->
    <path d="M -22 0 Q -15 5 -8 0" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <path d="M 8 0 Q 15 5 22 0" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <!-- Small smile -->
    <path d="M -10 25 Q 0 30 10 25" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <!-- Thought bubbles -->
    <circle cx="50" cy="-20" r="5" fill="white" opacity="0.7"/>
    <circle cx="60" cy="-35" r="8" fill="white" opacity="0.7"/>
    <circle cx="72" cy="-50" r="12" fill="white" opacity="0.7"/>
    <!-- Label -->
    <text x="0" y="75" text-anchor="middle" fill="#FF9800" font-family="Arial" font-size="12" font-weight="bold">THINKING</text>
    <text x="0" y="88" text-anchor="middle" fill="#555" font-family="Arial" font-size="9">eyes close, bubbles</text>
  </g>

  <!-- SPEAKING -->
  <g transform="translate(525, 115)">
    <!-- Body (slightly squished for bounce) -->
    <ellipse cx="0" cy="15" rx="42" ry="42" fill="url(#orangeGradient)"/>
    <!-- Ears -->
    <circle cx="-32" cy="-30" r="10" fill="url(#orangeGradient)"/>
    <circle cx="32" cy="-30" r="10" fill="url(#orangeGradient)"/>
    <!-- Happy eyes — animate eyeClosure 1→0 -->
    <ellipse cx="-15" cy="2" rx="9" ry="10" fill="white"/>
    <ellipse cx="15" cy="2" rx="9" ry="10" fill="white"/>
    <circle cx="-15" cy="4" r="5" fill="black"/>
    <circle cx="15" cy="4" r="5" fill="black"/>
    <circle cx="-13" cy="1" r="2" fill="white"/>
    <circle cx="17" cy="1" r="2" fill="white"/>
    <!-- Open mouth -->
    <ellipse cx="0" cy="30" rx="10" ry="8" fill="black"/>
    <!-- Label -->
    <text x="0" y="75" text-anchor="middle" fill="#4CAF50" font-family="Arial" font-size="12" font-weight="bold">SPEAKING</text>
    <text x="0" y="88" text-anchor="middle" fill="#555" font-family="Arial" font-size="9">bounce, mouth anim</text>
  </g>

  <!-- SLEEPING -->
  <g transform="translate(675, 115)">
    <!-- Body -->
    <ellipse cx="0" cy="10" rx="40" ry="45" fill="url(#orangeGradient)"/>
    <!-- Ears (droopy) — animate earAngle 0→20° -->
    <ellipse cx="-32" cy="-30" rx="10" ry="8" fill="url(#orangeGradient)" transform="rotate(20 -32 -30)"/>
    <ellipse cx="32" cy="-30" rx="10" ry="8" fill="url(#orangeGradient)" transform="rotate(-20 32 -30)"/>
    <!-- Closed eyes -->
    <path d="M -22 0 Q -15 5 -8 0" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <path d="M 8 0 Q 15 5 22 0" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <!-- Tiny smile -->
    <path d="M -8 25 Q 0 28 8 25" stroke="black" stroke-width="2" fill="none" stroke-linecap="round"/>
    <!-- Zzz -->
    <text x="45" y="-10" fill="white" font-family="Arial" font-size="14" opacity="0.8">z</text>
    <text x="55" y="-25" fill="white" font-family="Arial" font-size="18" opacity="0.6">z</text>
    <text x="68" y="-42" fill="white" font-family="Arial" font-size="22" opacity="0.4">Z</text>
    <!-- Label -->
    <text x="0" y="75" text-anchor="middle" fill="#9C27B0" font-family="Arial" font-size="12" font-weight="bold">SLEEPING</text>
    <text x="0" y="88" text-anchor="middle" fill="#555" font-family="Arial" font-size="9">ears +20°, Zzz float</text>
  </g>

  <!-- OFFLINE -->
  <g transform="translate(825, 115)">
    <!-- Body (gray) — animate bodyGrayAmount 0→1 -->
    <ellipse cx="0" cy="10" rx="40" ry="45" fill="url(#grayGradient)"/>
    <!-- Ears (droopy) — animate earAngle to 30° -->
    <ellipse cx="-32" cy="-28" rx="10" ry="8" fill="url(#grayGradient)" transform="rotate(30 -32 -28)"/>
    <ellipse cx="32" cy="-28" rx="10" ry="8" fill="url(#grayGradient)" transform="rotate(-30 32 -28)"/>
    <!-- Sad eyes — pupils animate to y+4 -->
    <ellipse cx="-15" cy="0" rx="9" ry="10" fill="white"/>
    <ellipse cx="15" cy="0" rx="9" ry="10" fill="white"/>
    <circle cx="-15" cy="5" r="5" fill="black"/>
    <circle cx="15" cy="5" r="5" fill="black"/>
    <!-- Frown -->
    <path d="M -15 30 Q 0 20 15 30" stroke="black" stroke-width="3" fill="none" stroke-linecap="round"/>
    <!-- Label -->
    <text x="0" y="75" text-anchor="middle" fill="#F44336" font-family="Arial" font-size="12" font-weight="bold">OFFLINE</text>
    <text x="0" y="88" text-anchor="middle" fill="#555" font-family="Arial" font-size="9">gray body, ears +30°</text>
  </g>

  <!-- Footer: transition details -->
  <rect x="150" y="240" width="600" height="30" rx="8" fill="#252542"/>
  <text x="450" y="259" text-anchor="middle" fill="#888" font-family="Arial" font-size="11">
    All transitions: 350ms · AccelerateDecelerate · ears, pupils, eye closure, body color interpolated
  </text>

</svg>
